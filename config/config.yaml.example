# ShelfBridge Configuration File
# This file configures the sync behavior between Audiobookshelf and Hardcover

# Global Configuration
# These settings apply to all users and the overall sync behavior
global:
  # Minimum progress percentage to sync (0-100)
  # Books with less than this percentage progress will be skipped
  min_progress_threshold: 5.0
  
  # Enable parallel processing for faster sync
  # Set to false if you encounter rate limiting or want sequential processing
  parallel: true
  
  # Number of parallel workers for sync operations (1-10)
  # Higher numbers = faster sync but more API load
  # Recommended: 3-5 for most users
  workers: 3
  
  # Run in dry-run mode without making actual changes
  # Useful for testing configuration and seeing what would be synced
  dry_run: false
  
  # Cron schedule for automatic sync (optional)
  # Format: "minute hour day month day-of-week"
  # Examples:
  #   "0 3 * * *"     - Every day at 3:00 AM
  #   "0 */6 * * *"   - Every 6 hours
  #   "0 9,21 * * *"  - Twice daily at 9 AM and 9 PM
  #   "0 3 * * 1"     - Every Monday at 3:00 AM
  sync_schedule: "0 3 * * *"
  
  # Timezone for scheduling and timestamps
  # Use standard timezone names like:
  #   "America/New_York", "America/Los_Angeles", "Europe/London", 
  #   "Asia/Tokyo", "Australia/Sydney", "Etc/UTC"
  timezone: "Etc/UTC"
  
  # Force sync even if progress appears unchanged (optional)
  # Useful for recovering from sync errors or cache issues
  # Default: false
  force_sync: false

# User Configurations
# Each user represents a connection between an Audiobookshelf server and Hardcover account
users:
  # Example user configuration - replace with your actual details
  - id: your_username
    # Your Audiobookshelf server URL (include http:// or https://)
    abs_url: https://your-audiobookshelf-server.com
    
    # Your Audiobookshelf API token
    # Get this from: Audiobookshelf > Settings > Users > [Your User] > API Token
    abs_token: your_audiobookshelf_api_token_here
    
    # Your Hardcover API token  
    # Get this from: https://hardcover.app/account/developer
    hardcover_token: your_hardcover_api_token_here

  # Example: Multiple users (family setup)
  # - id: alice
  #   abs_url: https://audiobookshelf.example.com
  #   abs_token: alice_audiobookshelf_token
  #   hardcover_token: alice_hardcover_token
  #
  # - id: bob  
  #   abs_url: https://audiobookshelf.example.com
  #   abs_token: bob_audiobookshelf_token
  #   hardcover_token: bob_hardcover_token

# Configuration Examples for Different Use Cases:

# High-frequency sync (every 2 hours) with more workers:
# global:
#   sync_schedule: "0 */2 * * *"
#   workers: 5
#   parallel: true

# Conservative sync (weekly, low impact):
# global:
#   sync_schedule: "0 2 * * 0"  # Sundays at 2 AM
#   workers: 1
#   parallel: false
#   min_progress_threshold: 10.0

# Testing/development setup:
# global:
#   dry_run: true
#   force_sync: true
#   min_progress_threshold: 0.0 